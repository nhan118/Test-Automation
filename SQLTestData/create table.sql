USE guest_test;
CREATE TABLE EMP(
EMPNO INT PRIMARY KEY,
ENAME VARCHAR(255),
JOB VARCHAR(255),
MGR INT,
HIREDATE DATE,
SAL DECIMAL,
COMM DECIMAL,
DEPTNO INT
)CHARSET UTF8;

CREATE TABLE DEPT(
DEPTNO INT PRIMARY KEY,
DNAME VARCHAR(255),
LOC VARCHAR(255)
)CHARSET UTF8;
 
CREATE TABLE NEW_DEPT(
DEPTNO INT PRIMARY KEY,
DNAME VARCHAR(255),
LOC VARCHAR(255)
)CHARSET UTF8;

CREATE TABLE emp_bonus(
EMPNO INT PRIMARY KEY,
RECEIVED DATE,
TYPE INT
)CHARSET UTF8;
 
 CREATE TABLE new_sal(
deptno INT,
sal DECIMAL 
 )CHARSET utf8;
 
 CREATE TABLE emp_commission(
 deptno INT,
 empno INT,
 ename VARCHAR(255),
 comm DECIMAL
 )CHARSET UTF8;
 
 CREATE TABLE dept_accidents(
deptno INT,
accident_name VARCHAR(255) 
 )CHARSET UTF8;
 
 CREATE TABLE t10(
 id INT
 )CHARSET utf8;
 
 CREATE VIEW v1 AS
 SELECT ename AS DATA
 FROM emp
 WHERE deptno=10
 UNION ALL
 SELECT CONCAT(ename,', $',sal,'.00') AS DATA
 FROM emp
 WHERE deptno=20
 UNION ALL
 SELECT CONCAT(ename,deptno) AS DATA
 FROM emp
 WHERE deptno=30
 
 CREATE VIEW v2 AS
 SELECT 'mo,larry,curly' AS NAME
 FROM t1
 UNION ALL
 SELECT 'tina,gina,jaunita,regina,leena' AS NAME
 FROM t1
 
 CREATE VIEW v3 (id,amt,trx)
 AS
 SELECT 1,100,'PR' FROM T1 UNION ALL
 SELECT 2,100,'PR' FROM T1 UNION ALL
 SELECT 3,50,'PY' FROM T1 UNION ALL
 SELECT 4,100,'PR' FROM T1 UNION ALL
 SELECT 5,200,'PY' FROM T1 UNION ALL
 SELECT 6,50,'PY' FROM T1
 
 CREATE TABLE emp_project(
 empno INT,
 ename VARCHAR(255),
 proj_id INT,
 proj_start DATE,
 proj_end DATE 
 )CHARSET utf8;
 
 -- truncate table ;
 INSERT INTO emp_project VALUES
 (7782,'CLARK',1,'2005-06-16','2005-06-18'),
 (7782,'CLARK',4,'2005-06-19','2005-06-24'),
 (7782,'CLARK',7,'2005-06-22','2005-06-25'),
 (7782,'CLARK',10,'2005-06-25','2005-06-28'),
 (7782,'CLARK',13,'2005-06-28','2005-07-02'),
 (7839,'KING',2,'2005-06-17','2005-06-21'),
 (7839,'KING',8,'2005-06-23','2005-06-25'),
 (7839,'KING',14,'2005-06-29','2005-06-30'),
 (7839,'KING',11,'2005-06-26','2005-06-27'),
 (7839,'KING',5,'2005-06-20','2005-06-24'),
 (7934,'MILLER',3,'2005-06-18','2005-06-22'),
 (7934,'MILLER',12,'2005-06-27','2005-06-28'),
 (7934,'MILLER',15,'2005-06-30','2005-07-03'),
 (7934,'MILLER',9,'2005-06-24','2005-06-27'),
 (7934,'MILLER',6,'2005-06-21','2005-06-23');
 
 CREATE VIEW V4 AS
 SELECT proj_id,proj_start,proj_end
 FROM emp_project
 ORDER BY proj_id
 
 CREATE VIEW v5 AS
 SELECT b.*,
 (CASE WHEN 
 (SELECT a.proj_id
 FROM v4 a
 WHERE b.proj_start = a.proj_end) IS NOT NULL THEN 0
 ELSE 1 END) AS flag
 FROM v4 b
 
 CREATE VIEW v6 AS
 SELECT 20 AS test1,20 AS test2 FROM t1 UNION ALL
 SELECT 50 AS test1,25 AS test2 FROM t1 UNION ALL
 SELECT 20 AS test1,20 AS test2 FROM t1 UNION ALL
 SELECT 60 AS test1,30 AS test2 FROM t1 UNION ALL
 SELECT 70 AS test1,90 AS test2 FROM t1 UNION ALL
 SELECT 80 AS test1,130 AS test2 FROM t1 UNION ALL
 SELECT 90 AS test1,70 AS test2 FROM t1 UNION ALL
 SELECT 100 AS test1,50 AS test2 FROM t1 UNION ALL
 SELECT 110 AS test1,55 AS test2 FROM t1 UNION ALL
 SELECT 120 AS test1,60 AS test2 FROM t1 UNION ALL
 SELECT 130 AS test1,80 AS test2 FROM t1 UNION ALL
 SELECT 140 AS test1,70 AS test2 FROM t1 
 
CREATE TABLE odr(
id INT,
order_date DATE,
process_date DATE 
)CHARSET utf8;

CREATE TABLE trx_log(
trx_id INT,
trx_date DATETIME,
trx_cnt INT
)CHARSET utf8;

CREATE DATABASE autoline CHARSET=utf8;